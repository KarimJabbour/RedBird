<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - RedBird Roster</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../assets/css/dashboard.css" />
    <script src="../assets/js/dashboard.js"></script>
  </head>

  <body>
    <div class="container">
      <!-- Navigation Bar -->
      <nav class="navbar">
        <div class="logo">
          <img
            src="Images/logo.png"
            alt="RedBird Logo"
            class="logo-img"
          />RedBird Roster
        </div>
        <ul class="nav-links">
          <li>
            <a href="dashboard.html" class="active">
              <i class="fas fa-tachometer-alt"></i> &nbsp;Dashboard
            </a>
          </li>
          <li>
            <a
              href="create_booking.html"
              class="<?= basename($_SERVER['PHP_SELF']) == 'create_booking.php' ? 'active' : '' ?>"
            >
              <i class="fas fa-calendar-plus"></i> &nbsp; Create Booking
            </a>
          </li>
          <li>
            <a
              href="user_settings.php"
              class="<?= basename($_SERVER['PHP_SELF']) == 'user_settings.php' ? 'active' : '' ?>"
            >
              <i class="fas fa-user-cog"></i> &nbsp; User Settings
            </a>
          </li>
          <li>
            <a href="logout.php" class="logout-btn">
              <i class="fas fa-sign-out-alt"></i> &nbsp;Logout
            </a>
          </li>
        </ul>
      </nav>

      <div class="copy-alert" id="copy-alert"></div>

      <!-- Booking Details Popup -->
      <div class="modal" id="booking-details-popup">
        <div class="modal-content">
          <div class="modal-header">
            <h2></h2>
            <button
              class="close-btn"
              onclick="closePopup('booking-details-popup')"
            >
              ✕
            </button>
          </div>
          <div class="modal-body booking">
            <!-- Filled dynamically -->
          </div>
          <div class="modal-footer">
            <button class="edit-btn" onclick="openEditPopup()">
              Edit Booking
            </button>
            <button class="delete-btn" onclick="deleteBooking()">
              Delete Booking
            </button>
          </div>
        </div>
      </div>

      <!-- Poll Details Popup -->
      <div class="modal" id="poll-details-popup">
        <div class="modal-content">
          <div class="modal-header">
            <h2>COMP 307 Extra Lecture</h2>
            <button
              class="close-btn"
              onclick="closePopup('poll-details-popup')"
            >
              ✕
            </button>
          </div>
          <div class="modal-body">
            <p><b>Details:</b> Missed lecture recovery</p>
            <p><b>Poll Close Date:</b> Friday, December 6, 2024</p>
            <div class="poll-results">
              <h3>Poll Results</h3>
              <ul class="poll-results-list">
                <!-- Filled dynamically -->
              </ul>
            </div>
          </div>
          <div class="modal-footer" style="justify-content: center">
            <button class="delete-btn" onclick="deleteBooking()">
              Close Poll Submissions
            </button>
          </div>
        </div>
      </div>

      <!-- Alternate Requests Popup -->
      <div class="modal" id="alternate-details-popup">
        <div class="modal-content">
          <div class="modal-header">
            <h2>COMP 307 Office Hours - Alternative</h2>
            <button
              class="close-btn"
              onclick="closePopup('alternate-details-popup')"
            >
              ✕
            </button>
          </div>
          <div class="modal-body alternate">
            <div class="request-times">
              <div class="request-info">
                <p><b>Requester Name:</b> Pinkie Pie</p>
                <p><b>Requester Email:</b> pinkiepielikescakes@lollipop.com</p>
                <p><b>Message:</b> Yap yap yap</p>
              </div>
              <h3>Time Suggestions</h3>
              <ul class="times-list">
                <li>
                  <div class="time-item">
                    <span>Monday, December 11, 2024</span>
                    <span>10:00 AM - 11:00 AM</span>
                  </div>
                </li>
                <li>
                  <div class="time-item">
                    <span>Tuesday, December 12, 2024</span>
                    <span>2:00 PM - 3:00 PM</span>
                  </div>
                </li>
              </ul>
            </div>
            <div class="message-field">
              <label for="message">Message (Optional):</label>
              <textarea
                id="message"
                name="message"
                rows="4"
                placeholder="Add a message for the requester..."
              ></textarea>
            </div>
          </div>
          <div class="modal-footer">
            <button class="button decline">Decline</button>
            <button class="button accept">Accept</button>
          </div>
        </div>
      </div>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Pending Alternate Requests -->
        <section class="column requests">
          <div class="section-title">
            <h2>Pending Requests</h2>
          </div>
          <div class="booking-container">
            <!-- Filled dynamically -->
          </div>
        </section>

        <!-- Created Bookings -->
        <section class="column bookings">
          <div class="section-title">
            <h2>Scheduled Bookings</h2>
            <img
              src="Images/icons/FE612C_plus.png"
              alt="Create Booking"
              class="plus"
            />
          </div>
          <div class="booking-container">
            <!-- Filled dynamically -->
          </div>
        </section>

        <section class="column polls">
          <div class="section-title">
            <h2>Created Polls</h2>
            <img
              src="Images/icons/FF872C_plus.png"
              alt="Create Poll"
              class="plus"
            />
          </div>
          <div class="booking-container"></div>
        </section>

        <section class="column bookings-history">
          <div class="section-title">
            <h2>History</h2>
            <img
              src="Images/icons/FFA12C_arrow.png"
              alt="Expand"
              class="arrow"
            />
          </div>
          <div class="booking-container"></div>
        </section>
      </main>
    </div>
  </body>
</html>
